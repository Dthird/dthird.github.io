<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>hihoCoder1057: Performance Log | Memory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1.QuestionDescription题目链接
You are given a txt file, which is performance logs of a single-threaded program.Each line has three columns as follow:

[Function Name] [TimeStamp] [Action]

[FunctionName]">
<meta property="og:type" content="article">
<meta property="og:title" content="hihoCoder1057: Performance Log">
<meta property="og:url" content="http://yoursite.com/2016/09/22/hihoCoder1057-Performance-Log/index.html">
<meta property="og:site_name" content="Memory">
<meta property="og:description" content="1.QuestionDescription题目链接
You are given a txt file, which is performance logs of a single-threaded program.Each line has three columns as follow:

[Function Name] [TimeStamp] [Action]

[FunctionName]">
<meta property="og:image" content="http://yoursite.com/home/jason/Pictures/14136920697494.png">
<meta property="og:updated_time" content="2016-09-23T01:43:27.772Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hihoCoder1057: Performance Log">
<meta name="twitter:description" content="1.QuestionDescription题目链接
You are given a txt file, which is performance logs of a single-threaded program.Each line has three columns as follow:

[Function Name] [TimeStamp] [Action]

[FunctionName]">
<meta name="twitter:image" content="http://yoursite.com/home/jason/Pictures/14136920697494.png">
  
    <link rel="alternate" href="/atom.xml" title="Memory" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Memory</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-hihoCoder1057-Performance-Log" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/22/hihoCoder1057-Performance-Log/" class="article-date">
  <time datetime="2016-09-22T07:19:56.000Z" itemprop="datePublished">2016-09-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      hihoCoder1057: Performance Log
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1.Question"></a>1.Question</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><a href="">题目链接</a></p>
<p>You are given a txt file, which is performance logs of a single-threaded program.Each line has three columns as follow:</p>
<blockquote>
<p>[Function Name] [TimeStamp] [Action]</p>
<ul>
<li>[FunctionName] is a string of length between 1~255</li>
<li>[TimeStamp] format is hh:mm:ss</li>
<li>Valid values for “Action” column are START or END, marking the start or end of a function call.</li>
</ul>
</blockquote>
<p>Each function will only be called once.</p>
<p>Output the depth-first traversal result of the call graph with the total time of each function call. However, sometimes the performance log isn’t correct and at that time you just need to output “Incorrect performance log”.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input only contains 1 case, first line is a positive number N representing the number of logs(1 &lt;= N &lt;= 20000), then there are N lines in next, each line is the log info containing [Function Name] [TimeStamp] [Action], [Function Name] is a string, you can assume the [Function Name] is distinct and the length between 1~255.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>Output the depth-first traversal result of the call graph with the total time of each function call for the correct performance, or output “Incorrect performance log”.</p>
<p>A call graph is a directed graph that represents calling relationships between subroutines in a computer program.</p>
<p>Call graph for the sample input is shown as below:</p>
<p><img src="/home/jason/Pictures/14136920697494.png" alt=""></p>
<p>Another sample test case.<br>Sample Input</p>
<pre><code>8
FuncA 00:00:01 START
FuncB 00:00:02 START
FuncC 00:00:03 START
FuncA 00:00:04 END
FuncB 00:00:05 END
FuncD 00:00:06 START
FuncD 00:00:07 END
FuncC 00:00:08 END
</code></pre><p>Sample Output</p>
<pre><code>Incorrect performance log
</code></pre><p>Sample Input</p>
<pre><code>8
FuncA 00:00:01 START
FuncB 00:00:02 START
FuncC 00:00:03 START
FuncC 00:00:04 END
FuncB 00:00:05 END
FuncD 00:00:06 START
FuncD 00:00:07 END
FuncA 00:00:08 END
</code></pre><p>Sample Output</p>
<pre><code>FuncA 00:00:07
FuncB 00:00:03
FuncC 00:00:01
FuncD 00:00:01
</code></pre><h1 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h1><p>Use stack to implement dfs. Push when “START” and pop when “END”.(Dealing with the boundary conditions)</p>
<h1 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h1><p>优化输出格式即可AC。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">N = int(raw_input())</div><div class="line">funStack = list()</div><div class="line">res = list()</div><div class="line">i = <span class="number">0</span></div><div class="line"><span class="keyword">while</span> i &lt; N:</div><div class="line">    data = raw_input().split()</div><div class="line">    <span class="keyword">if</span> data[<span class="number">2</span>] == <span class="string">"START"</span>:</div><div class="line">        funStack.append(data)</div><div class="line">        i += <span class="number">1</span></div><div class="line">    <span class="keyword">elif</span> data[<span class="number">2</span>] == <span class="string">"END"</span>:</div><div class="line">        <span class="keyword">if</span> len(funStack) == <span class="number">0</span>:</div><div class="line">            <span class="keyword">break</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            tmp = funStack.pop()</div><div class="line">            <span class="keyword">if</span> tmp[<span class="number">0</span>] != data[<span class="number">0</span>]:</div><div class="line">                <span class="keyword">break</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                startData = [int(x) <span class="keyword">for</span> x <span class="keyword">in</span> tmp[<span class="number">1</span>].split(<span class="string">":"</span>)]</div><div class="line">                startTime = startData[<span class="number">0</span>]*<span class="number">3600</span> + startData[<span class="number">1</span>]*<span class="number">60</span> + startData[<span class="number">2</span>]</div><div class="line">                endData = [int(x) <span class="keyword">for</span> x <span class="keyword">in</span> data[<span class="number">1</span>].split(<span class="string">":"</span>)]</div><div class="line">                endTime = endData[<span class="number">0</span>]*<span class="number">3600</span> + endData[<span class="number">1</span>]*<span class="number">60</span> + endData[<span class="number">2</span>]</div><div class="line">                <span class="keyword">if</span> endTime &lt; startTime:</div><div class="line">                    <span class="keyword">break</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    resTime = list()</div><div class="line">                    seconds = endTime - startTime</div><div class="line">                    resTime.append(str(seconds%<span class="number">60</span>))</div><div class="line">                    mins = seconds/<span class="number">60</span></div><div class="line">                    resTime.append(str(mins%<span class="number">60</span>))</div><div class="line">                    hours = mins/<span class="number">60</span></div><div class="line">                    resTime.append(str(hours))</div><div class="line">                    res.append([data[<span class="number">0</span>], resTime[<span class="number">2</span>]+<span class="string">":"</span>+resTime[<span class="number">1</span>]+<span class="string">":"</span>+resTime[<span class="number">0</span>]])</div><div class="line">                    i += <span class="number">1</span></div><div class="line"></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">break</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> i == N:</div><div class="line">    <span class="keyword">print</span> res</div><div class="line"><span class="keyword">else</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">"Incorrect performance log"</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/22/hihoCoder1057-Performance-Log/" data-id="citfq8cxd0004p6a7u3k1eplw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dfs/">dfs</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/09/22/github-hexo-如何从已有的github仓库进行配置/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          github+hexo: 如何从已有的github仓库进行配置
        
      </div>
    </a>
  
  
    <a href="/2016/09/21/hihoCoder1051-补提交卡/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">hihoCoder1051: 补提交卡</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Configuration/">Configuration</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/OJ/">OJ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dfs/">dfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/enumeration/">enumeration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/greedy/">greedy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hash/">hash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/regular-expression/">regular_expression</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/string/">string</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tree/">tree</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/OJ/" style="font-size: 20px;">OJ</a> <a href="/tags/dfs/" style="font-size: 10px;">dfs</a> <a href="/tags/enumeration/" style="font-size: 10px;">enumeration</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/greedy/" style="font-size: 10px;">greedy</a> <a href="/tags/hash/" style="font-size: 10px;">hash</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/regular-expression/" style="font-size: 10px;">regular_expression</a> <a href="/tags/string/" style="font-size: 15px;">string</a> <a href="/tags/tree/" style="font-size: 10px;">tree</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/09/23/hihoCoder1086-Browser-Caching/">hihoCoder1086: Browser Caching</a>
          </li>
        
          <li>
            <a href="/2016/09/23/hihoCoder1082-The-Marshtomp-has-seen-it-all-before/">hihoCoder1082: The Marshtomp has seen it all before</a>
          </li>
        
          <li>
            <a href="/2016/09/23/hihoCoder1058-Combination-Lock/">hihoCoder1058: Combination Lock</a>
          </li>
        
          <li>
            <a href="/2016/09/22/github-hexo-如何从已有的github仓库进行配置/">github+hexo: 如何从已有的github仓库进行配置</a>
          </li>
        
          <li>
            <a href="/2016/09/22/hihoCoder1057-Performance-Log/">hihoCoder1057: Performance Log</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Jason Dong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>