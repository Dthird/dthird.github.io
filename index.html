<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Memory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Memory">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Memory">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Memory">
  
    <link rel="alternate" href="/atom.xml" title="Memory" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Memory</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hohoCoder1014-Trie树" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/26/hohoCoder1014-Trie树/" class="article-date">
  <time datetime="2016-09-26T05:15:50.000Z" itemprop="datePublished">2016-09-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/26/hohoCoder1014-Trie树/">hohoCoder1014: Trie树</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1. Question"></a>1. Question</h1><h2 id="&#x63CF;&#x8FF0;"><a href="#&#x63CF;&#x8FF0;" class="headerlink" title="&#x63CF;&#x8FF0;"></a>&#x63CF;&#x8FF0;</h2><p><a href="http://hihocoder.com/problemset/problem/1014?sid=894314" target="_blank" rel="external">Link</a></p>
<p>&#x5C0F;Hi&#x548C;&#x5C0F;Ho&#x662F;&#x4E00;&#x5BF9;&#x597D;&#x670B;&#x53CB;&#xFF0C;&#x51FA;&#x751F;&#x5728;&#x4FE1;&#x606F;&#x5316;&#x793E;&#x4F1A;&#x7684;&#x4ED6;&#x4EEC;&#x5BF9;&#x7F16;&#x7A0B;&#x4EA7;&#x751F;&#x4E86;&#x83AB;&#x5927;&#x7684;&#x5174;&#x8DA3;&#xFF0C;&#x4ED6;&#x4EEC;&#x7EA6;&#x5B9A;&#x597D;&#x4E92;&#x76F8;&#x5E2E;&#x52A9;&#xFF0C;&#x5728;&#x7F16;&#x7A0B;&#x7684;&#x5B66;&#x4E60;&#x9053;&#x8DEF;&#x4E0A;&#x4E00;&#x540C;&#x524D;&#x8FDB;&#x3002;</p>
<p>&#x8FD9;&#x4E00;&#x5929;&#xFF0C;&#x4ED6;&#x4EEC;&#x9047;&#x5230;&#x4E86;&#x4E00;&#x672C;&#x8BCD;&#x5178;&#xFF0C;&#x4E8E;&#x662F;&#x5C0F;Hi&#x5C31;&#x5411;&#x5C0F;Ho&#x63D0;&#x51FA;&#x4E86;&#x90A3;&#x4E2A;&#x7ECF;&#x5178;&#x7684;&#x95EE;&#x9898;&#xFF1A;&#x201C;&#x5C0F;Ho&#xFF0C;&#x4F60;&#x80FD;&#x4E0D;&#x80FD;<strong>&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x6211;&#x7ED9;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x90FD;&#x5728;&#x8FD9;&#x4E2A;&#x8BCD;&#x5178;&#x91CC;&#x9762;&#x627E;&#x5230;&#x4EE5;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5F00;&#x5934;&#x7684;&#x6240;&#x6709;&#x5355;&#x8BCD;&#x5462;</strong>&#xFF1F;&#x201D;</p>
<p>&#x8EAB;&#x7ECF;&#x767E;&#x6218;&#x7684;&#x5C0F;Ho&#x7B54;&#x9053;&#xFF1A;&#x201C;&#x600E;&#x4E48;&#x4F1A;&#x4E0D;&#x80FD;&#x5462;&#xFF01;&#x4F60;&#x6BCF;&#x7ED9;&#x6211;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6211;&#x5C31;&#x4F9D;&#x6B21;&#x904D;&#x5386;&#x8BCD;&#x5178;&#x91CC;&#x7684;&#x6240;&#x6709;&#x5355;&#x8BCD;&#xFF0C;&#x68C0;&#x67E5;&#x4F60;&#x7ED9;&#x6211;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x4E0D;&#x662F;&#x8FD9;&#x4E2A;&#x5355;&#x8BCD;&#x7684;&#x524D;&#x7F00;&#x4E0D;&#x5C31;&#x662F;&#x4E86;&#xFF1F;&#x201D;</p>
<p>&#x5C0F;Hi&#x7B11;&#x9053;&#xFF1A;&#x201C;&#x4F60;&#x554A;&#xFF0C;&#x8FD8;&#x662F;&#x592A;&#x5E74;&#x8F7B;&#x4E86;&#xFF01;~&#x5047;&#x8BBE;&#x8FD9;&#x672C;&#x8BCD;&#x5178;&#x91CC;&#x6709;10&#x4E07;&#x4E2A;&#x5355;&#x8BCD;&#xFF0C;&#x6211;&#x8BE2;&#x95EE;&#x4F60;&#x4E00;&#x4E07;&#x6B21;&#xFF0C;&#x4F60;&#x5F97;&#x8981;&#x7B97;&#x5230;&#x54EA;&#x5E74;&#x54EA;&#x6708;&#x53BB;&#xFF1F;&#x201D;</p>
<p>&#x5C0F;Ho&#x4F4E;&#x5934;&#x7B97;&#x4E86;&#x4E00;&#x7B97;&#xFF0C;&#x770B;&#x7740;&#x90A3;&#x4E00;&#x5806;&#x5806;&#x7684;0&#xFF0C;&#x987F;&#x65F6;&#x611F;&#x89C9;&#x81EA;&#x5DF1;&#x8FD9;&#x8F88;&#x5B50;&#x90FD;&#x8981;&#x82B1;&#x5728;&#x4E0A;&#x9762;&#x4E86;&#x2026;</p>
<p>&#x5C0F;Hi&#x770B;&#x7740;&#x5C0F;Ho&#x7684;&#x56E7;&#x6837;&#xFF0C;&#x4E5F;&#x662F;&#x7EE7;&#x7EED;&#x7B11;&#x9053;&#xFF1A;&#x201C;&#x8BA9;&#x6211;&#x6765;&#x63D0;&#x9AD8;&#x4E00;&#x4E0B;&#x4F60;&#x7684;&#x77E5;&#x8BC6;&#x6C34;&#x5E73;&#x5427;~&#x4F60;&#x77E5;&#x9053;&#x6811;&#x8FD9;&#x6837;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E48;&#xFF1F;&#x201D;</p>
<p>&#x5C0F;Ho&#x60F3;&#x4E86;&#x60F3;&#xFF0C;&#x8BF4;&#x9053;&#xFF1A;&#x201C;&#x77E5;&#x9053;~&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x57FA;&#x7840;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x5C31;&#x50CF;&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x4E00;&#x6837;&#xFF01;&#x201D;</p>
<p>&#x5C0F;Hi&#x6EE1;&#x610F;&#x7684;&#x70B9;&#x4E86;&#x70B9;&#x5934;&#xFF0C;&#x8BF4;&#x9053;&#xFF1A;&#x201C;&#x90A3;&#x4F60;&#x77E5;&#x9053;&#x6211;&#x600E;&#x4E48;&#x6837;&#x7528;&#x4E00;&#x68F5;&#x6811;&#x6765;&#x8868;&#x793A;&#x6574;&#x4E2A;&#x8BCD;&#x5178;&#x4E48;&#xFF1F;&#x201D;</p>
<p>&#x5C0F;Ho&#x6447;&#x6447;&#x5934;&#x8868;&#x793A;&#x81EA;&#x5DF1;&#x4E0D;&#x6E05;&#x695A;&#x3002;</p>
<p>&#x201C;&#x4F60;&#x770B;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5F97;&#x5230;&#x4E86;&#x8FD9;&#x6837;&#x4E00;&#x68F5;&#x6811;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x770B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x7ED9;&#x4F60;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;ap&#xFF0C;&#x4F60;&#x8981;&#x600E;&#x4E48;&#x627E;&#x5230;&#x6240;&#x6709;&#x4EE5;ap&#x5F00;&#x5934;&#x7684;&#x5355;&#x8BCD;&#x5462;&#xFF1F;&#x201D;&#x5C0F;Hi&#x53C8;&#x5F00;&#x59CB;&#x8003;&#x6821;&#x5C0F;Ho&#x3002;</p>
<p>&#x201C;&#x5514;&#x2026;&#x4E00;&#x4E2A;&#x4E2A;&#x904D;&#x5386;&#x6240;&#x6709;&#x7684;&#x5355;&#x8BCD;&#xFF1F;&#x201D;&#x5C0F;Ho&#x8FD8;&#x662F;&#x4E0D;&#x5FD8;&#x81EA;&#x5DF1;&#x6700;&#x5F00;&#x59CB;&#x63D0;&#x51FA;&#x6765;&#x7684;&#x7B97;&#x6CD5;&#x3002;</p>
<p>&#x201C;&#x7B28;&#xFF01;&#x8FD9;&#x68F5;&#x6811;&#x96BE;&#x9053;&#x5C31;&#x767D;&#x6784;&#x5EFA;&#x4E86;&#xFF01;&#x201D;&#x5C0F;Hi&#x6559;&#x8BAD;&#x5B8C;&#x5C0F;Ho&#xFF0C;&#x7EE7;&#x7EED;&#x9053;&#xFF1A;&#x201C;&#x770B;&#x597D;&#x4E86;&#xFF01;&#x201D;</p>
<p>&#x201C;&#x90A3;&#x4E48;&#x73B0;&#x5728;&#xFF01;&#x8D76;&#x7D27;&#x53BB;&#x7528;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x5427;&#xFF01;&#x201D;&#x5C0F;Hi&#x5982;&#x662F;&#x8BF4;&#x9053;</p>
<h2 id="&#x8F93;&#x5165;"><a href="#&#x8F93;&#x5165;" class="headerlink" title="&#x8F93;&#x5165;"></a>&#x8F93;&#x5165;</h2><p>&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x884C;&#x4E3A;&#x4E00;&#x4E2A;&#x6B63;&#x6574;&#x6570;n&#xFF0C;&#x8868;&#x793A;&#x8BCD;&#x5178;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5176;&#x540E;n&#x884C;&#xFF0C;&#x6BCF;&#x4E00;&#x884C;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#xFF08;&#x4E0D;&#x4FDD;&#x8BC1;&#x662F;&#x82F1;&#x6587;&#x5355;&#x8BCD;&#xFF0C;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x706B;&#x661F;&#x6587;&#x5355;&#x8BCD;&#x54E6;&#xFF09;&#xFF0C;&#x5355;&#x8BCD;&#x7531;&#x4E0D;&#x8D85;&#x8FC7;10&#x4E2A;&#x7684;&#x5C0F;&#x5199;&#x82F1;&#x6587;&#x5B57;&#x6BCD;&#x7EC4;&#x6210;&#xFF0C;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x76F8;&#x540C;&#x7684;&#x5355;&#x8BCD;&#xFF0C;&#x6B64;&#x65F6;&#x5E94;&#x5C06;&#x5176;&#x89C6;&#x4F5C;&#x4E0D;&#x540C;&#x7684;&#x5355;&#x8BCD;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x4E00;&#x884C;&#x4E3A;&#x4E00;&#x4E2A;&#x6B63;&#x6574;&#x6570;m&#xFF0C;&#x8868;&#x793A;&#x5C0F;Hi&#x8BE2;&#x95EE;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x5176;&#x540E;m&#x884C;&#xFF0C;&#x6BCF;&#x4E00;&#x884C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x7531;&#x4E0D;&#x8D85;&#x8FC7;10&#x4E2A;&#x7684;&#x5C0F;&#x5199;&#x82F1;&#x6587;&#x5B57;&#x6BCD;&#x7EC4;&#x6210;&#xFF0C;&#x8868;&#x793A;&#x5C0F;Hi&#x7684;&#x4E00;&#x4E2A;&#x8BE2;&#x95EE;&#x3002;</p>
<p>&#x5728;20%&#x7684;&#x6570;&#x636E;&#x4E2D;n, m&lt;=10&#xFF0C;&#x8BCD;&#x5178;&#x7684;&#x5B57;&#x6BCD;&#x8868;&#x5927;&#x5C0F;&lt;=2.</p>
<p>&#x5728;60%&#x7684;&#x6570;&#x636E;&#x4E2D;n, m&lt;=1000&#xFF0C;&#x8BCD;&#x5178;&#x7684;&#x5B57;&#x6BCD;&#x8868;&#x5927;&#x5C0F;&lt;=5.</p>
<p>&#x5728;100%&#x7684;&#x6570;&#x636E;&#x4E2D;n, m&lt;=100000&#xFF0C;&#x8BCD;&#x5178;&#x7684;&#x5B57;&#x6BCD;&#x8868;&#x5927;&#x5C0F;&lt;=26.</p>
<h2 id="&#x8F93;&#x51FA;"><a href="#&#x8F93;&#x51FA;" class="headerlink" title="&#x8F93;&#x51FA;"></a>&#x8F93;&#x51FA;</h2><p>&#x5BF9;&#x4E8E;&#x5C0F;Hi&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x8BE2;&#x95EE;&#xFF0C;&#x8F93;&#x51FA;&#x4E00;&#x4E2A;&#x6574;&#x6570;Ans,&#x8868;&#x793A;&#x8BCD;&#x5178;&#x4E2D;&#x4EE5;&#x5C0F;Hi&#x7ED9;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E3A;&#x524D;&#x7F00;&#x7684;&#x5355;&#x8BCD;&#x7684;&#x4E2A;&#x6570;&#x3002;</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><pre><code>5
babaab
babbbaaaa
abba
aaaaabaa
babaababb
5
babb
baabaaa
bab
bb
bbabbaab
</code></pre><h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><pre><code>1
0
3
0
0
</code></pre><h1 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h1><ol>
<li>Hint1&#xFF1A;Trie&#x6811;&#x7684;&#x5EFA;&#x7ACB;<br><img src="/2016/09/26/hohoCoder1014-Trie&#x6811;/img/14051554971354.jpg" style="width: 300px;"></li>
<li>Hint2&#xFF1A;&#x5982;&#x4F55;&#x4F7F;&#x7528;Trie&#x6811;<br><img src="/2016/09/26/hohoCoder1014-Trie&#x6811;/img/14051555414053.jpg" alt=""><br><img src="/2016/09/26/hohoCoder1014-Trie&#x6811;/img/14051555696936.jpg" alt=""></li>
<li>Hint3&#xFF1A;&#x5728;&#x5EFA;&#x7ACB;Trie&#x6811;&#x65F6;&#x540C;&#x65F6;&#x8FDB;&#x884C;&#x7EDF;&#x8BA1;</li>
</ol>
<pre><code>&#x201C;&#x5C0F;Ho&#x4F60;&#x6709;&#x6CA1;&#x6709;&#x60F3;&#x8FC7;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1F;&#x4E0D;&#x59A8;&#x79F0;&#x4EE5;T&#x4E3A;&#x6839;&#x7684;&#x5B50;&#x6811;&#x4E2D;&#x6807;&#x8BB0;&#x8282;&#x70B9;&#x7684;&#x4E2A;&#x6570;&#x4E3A;L[T]&#xFF0C;&#x65E2;&#x7136;&#x6211;&#x8981;&#x7EDF;&#x8BA1;&#x67D0;&#x4E2A;L[T1]&#xFF0C;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x7ED3;&#x70B9;&#x662F;&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#xFF0C;&#x6211;&#x6709;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x4E00;&#x6B21;&#x6027;&#x628A;&#x6240;&#x6709;&#x7ED3;&#x70B9;&#x7684;L[T]&#x6C42;&#x51FA;&#x6765;&#x5462;&#xFF1F;&#x201D;&#x5C0F;Hi&#x6574;&#x7406;&#x4E86;&#x4E0B;&#x601D;&#x7EEA;&#xFF0C;&#x95EE;&#x9053;&#x3002;

&#x201C;&#x4F3C;&#x4E4E;&#x662F;&#x6709;&#x7684;&#xFF0C;&#x8001;&#x5E08;&#x4EE5;&#x524D;&#x8BF4;&#x8FC7;&#xFF0C;&#x9012;&#x5F52;&#x4EC0;&#x4E48;&#x7684;&#x3002;&#x3002;&#x201D;&#x5C0F;Ho&#x7B54;&#x9053;&#x3002;

&#x201C;&#x9012;&#x5F52;&#x592A;&#x590D;&#x6742;&#x4E86;&#xFF01;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E4B;&#x540E;&#x518D;&#x8BF4;&#xFF0C;&#x4F60;&#x8FD9;&#x4E48;&#x60F3;&#xFF0C;&#x5728;&#x4F60;&#x6784;&#x5EFA;Trie&#x6811;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5F53;&#x4F60;&#x7ECF;&#x8FC7;&#x4E00;&#x4E2A;&#x7ED3;&#x70B9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BF4;&#x660E;&#x4E86;&#x4EC0;&#x4E48;&#xFF1F;&#x201D;&#x5C0F;Hi&#x6487;&#x4E86;&#x6487;&#x5934;&#xFF0C;&#x7EE7;&#x7EED;&#x95EE;&#x9053;&#x3002;

&#x201C;&#x6211;&#x60F3;&#x60F3;&#xFF0C;&#x7ECF;&#x8FC7;&#x4E00;&#x4E2A;&#x7ED3;&#x70B9;&#x2026;&#x2026;&#x6807;&#x8BB0;&#x7ED3;&#x70B9;&#x2026;&#x2026;&#x8BF4;&#x660E;&#x4E86;&#x4EE5;&#x8FD9;&#x4E2A;&#x7ED3;&#x70B9;&#x4E3A;&#x6839;&#x7684;&#x5B50;&#x6811;&#x4E2D;&#x5C06;&#x8981;&#x591A;&#x51FA;&#x6765;&#x4E00;&#x4E2A;&#x6807;&#x8BB0;&#x7ED3;&#x70B9;&#xFF1F;&#x201D;

&#x201C;&#x6CA1;&#x9519;&#xFF01;&#x90A3;&#x4F60;&#x6709;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x529E;&#x6CD5;&#x6765;&#x8BB0;&#x5F55;&#x8FD9;&#x4E2A;&#x6539;&#x53D8;&#x5462;&#xFF1F;&#x201D;

&#x201C;&#x6211;&#x60F3;&#x60F3;&#xFF0C;&#x6211;&#x5728;&#x6700;&#x5F00;&#x59CB;&#x7F6E;&#x6240;&#x6709;L[T]=0&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x6B21;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5355;&#x8BCD;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90FD;&#x5C06;&#x5B83;&#x7ECF;&#x8FC7;&#x7684;&#x6240;&#x6709;&#x7ED3;&#x70B9;&#x7684;L[T]&#x5168;&#x90E8;+1&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x6784;&#x5EFA;&#x5B8C;&#x8FD9;&#x68F5;Trie&#x6811;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4E5F;&#x5C31;&#x80FD;&#x591F;&#x540C;&#x65F6;&#x7EDF;&#x8BA1;&#x5230;&#x6240;&#x6709;L[T]&#x4E86;&#xFF0C;&#x5BF9;&#x4E48;&#xFF1F;&#x201D;&#x5C0F;Ho&#x5F00;&#x5FC3;&#x9053;&#x3002;
</code></pre><h1 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tree</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, node)</span>:</span></div><div class="line">        self.node = node</div><div class="line">        self.children = []</div><div class="line">        self.L = <span class="number">0</span> <span class="comment">#num of subtree = num of words(prefix is &quot;**&quot;)</span></div><div class="line">        self.isTerminal = <span class="keyword">False</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieTree</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.trieRoot = Tree(<span class="keyword">None</span>)</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addWord</span><span class="params">(self, word)</span>:</span></div><div class="line">        self.trieRoot.L += <span class="number">1</span></div><div class="line">        tmp = self.trieRoot</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> word:</div><div class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> [x.node <span class="keyword">for</span> x <span class="keyword">in</span> tmp.children]:</div><div class="line">                tmp = tmp.children[[x.node <span class="keyword">for</span> x <span class="keyword">in</span> tmp.children].index(i)]</div><div class="line">                tmp.L += <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                tmp.children.append(Tree(i))</div><div class="line">                tmp = tmp.children[len(tmp.children)<span class="number">-1</span>]</div><div class="line">                tmp.L += <span class="number">1</span></div><div class="line">        tmp.isTerminal = <span class="keyword">True</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(self, prefix)</span>:</span></div><div class="line">        tmp = self.trieRoot</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> prefix:</div><div class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> [x.node <span class="keyword">for</span> x <span class="keyword">in</span> tmp.children]:</div><div class="line">                tmp = tmp.children[[x.node <span class="keyword">for</span> x <span class="keyword">in</span> tmp.children].index(i)]</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        <span class="keyword">return</span> tmp.L</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</div><div class="line">    trie = TrieTree()</div><div class="line">    n = int(raw_input())</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</div><div class="line">        trie.addWord(raw_input())</div><div class="line"></div><div class="line">    m = int(raw_input())</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</div><div class="line">        <span class="keyword">print</span> trie.search(raw_input())</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/26/hohoCoder1014-Trie树/" data-id="citjlz67k000evca7tppg8s2l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tree/">tree</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-leetcode204-Count-Primes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/25/leetcode204-Count-Primes/" class="article-date">
  <time datetime="2016-09-25T03:20:35.000Z" itemprop="datePublished">2016-09-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/25/leetcode204-Count-Primes/">leetcode204. Count Primes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1. Question"></a>1. Question</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description:"></a>Description:</h2><p><a href="https://leetcode.com/problems/count-primes/" target="_blank" rel="external">Link</a></p>
<p>Count the number of prime numbers less than a non-negative number n.</p>
<h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits:"></a>Credits:</h2><p>Special thanks to <a href="">@mithmatt</a> for adding this problem and creating all test cases.</p>
<h1 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h1><p>Hint:</p>
<ol>
<li>Let&#x2019;s start with a isPrime function. To determine if a number is prime, we need to check if it is not divisible by any number less than n. The runtime complexity of isPrime function would be O(n) and hence counting the total prime numbers up to n would be $O(n^{2})$. Could we do better?</li>
</ol>
<ol>
<li><p>As we know the number must not be divisible by any number &gt; n / 2, we can immediately cut the total iterations half by dividing only up to n / 2. Could we still do better?</p>
</li>
<li><p>Let&#x2019;s write down all of 12&#x2019;s factors:</p>
<blockquote>
<p>2 &#xD7; 6 = 12</p>
<p>3 &#xD7; 4 = 12</p>
<p>4 &#xD7; 3 = 12</p>
<p>6 &#xD7; 2 = 12</p>
</blockquote>
<p> As you can see, calculations of 4 &#xD7; 3 and 6 &#xD7; 2 are not necessary. Therefore, we only need to consider factors up to &#x221A;n because, if n is divisible by some number p, then n = p &#xD7; q and since p &#x2264; q, we could derive that p &#x2264; &#x221A;n.</p>
<p> Our total runtime has now improved to O(n1.5), which is slightly better. Is there a faster approach?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>{</div><div class="line">   <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) {</div><div class="line">      <span class="keyword">if</span> (isPrime(i)) count++;</div><div class="line">   }</div><div class="line">   <span class="keyword">return</span> count;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> num)</span> </span>{</div><div class="line">   <span class="keyword">if</span> (num &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">   <span class="comment">// Loop&apos;s ending condition is i * i &lt;= num instead of i &lt;= sqrt(num)</span></div><div class="line">   <span class="comment">// to avoid repeatedly calling an expensive function sqrt().</span></div><div class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= num; i++) {</div><div class="line">      <span class="keyword">if</span> (num % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">   }</div><div class="line">   <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
</li>
<li><p>The Sieve of Eratosthenes is one of the most efficient ways to find all prime numbers up to n. But don&#x2019;t let that name scare you, I promise that the concept is surprisingly simple.</p>
</li>
</ol>
<p><img src="/2016/09/25/leetcode204-Count-Primes/img/Sieve_of_Eratosthenes_animation.gif" alt=""></p>
<blockquote>
<p>Sieve of Eratosthenes: algorithm steps for primes below 121. &#x201C;Sieve of Eratosthenes Animation&#x201D; by SKopp is licensed under CC BY 2.0.</p>
</blockquote>
<ol>
<li><p>4 is not a prime because it is divisible by 2, which means all multiples of 4 must also be divisible by 2 and were already marked off. So we can skip 4 immediately and go to the next number, 5. Now, all multiples of 5 such as 5 &#xD7; 2 = 10, 5 &#xD7; 3 = 15, 5 &#xD7; 4 = 20, 5 &#xD7; 5 = 25, &#x2026; can be marked off. There is a slight optimization here, we do not need to start from 5 &#xD7; 2 = 10. Where should we start marking off?</p>
</li>
<li><p>In fact, we can mark off multiples of 5 starting at 5 &#xD7; 5 = 25, because 5 &#xD7; 2 = 10 was already marked off by multiple of 2, similarly 5 &#xD7; 3 = 15 was already marked off by multiple of 3. Therefore, if the current number is p, we can always mark off multiples of p starting at p2, then in increments of p: p2 + p, p2 + 2p, &#x2026; Now what should be the terminating loop condition?</p>
</li>
<li><p>It is easy to say that the terminating loop condition is p &lt; n, which is certainly correct but not efficient. Do you still remember Hint #3?</p>
</li>
<li><p>Yes, the terminating loop condition can be p &lt; &#x221A;n, as all non-primes &#x2265; &#x221A;n must have already been marked off. When the loop terminates, all the numbers in the table that are non-marked are prime.</p>
<p> The Sieve of Eratosthenes uses an extra O(n) memory and its runtime complexity is O(n log log n). For the more mathematically inclined readers, you can read more about its algorithm complexity on <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes#Algorithm_complexity" target="_blank" rel="external">Wikipedia</a>.</p>
<h1 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countPrimes</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">&quot;&quot;&quot;</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: int</div><div class="line">        &quot;&quot;&quot;</div><div class="line">        <span class="keyword">if</span> n &lt; <span class="number">2</span>:</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span></div><div class="line">        isPrime = [<span class="keyword">True</span>] * n  <span class="comment"># hint 4. space complexity = O(n)</span></div><div class="line">        i = <span class="number">2</span></div><div class="line">        <span class="keyword">while</span> i*i &lt; n: <span class="comment"># hint 3</span></div><div class="line">            <span class="keyword">if</span> <span class="keyword">not</span> isPrime[i]: <span class="comment"># hint 4</span></div><div class="line">                i += <span class="number">1</span></div><div class="line">                <span class="keyword">continue</span></div><div class="line">            j = i*i</div><div class="line">            <span class="keyword">while</span> j &lt; n:</div><div class="line">                isPrime[j] = <span class="keyword">False</span></div><div class="line">                j += i</div><div class="line">            i += <span class="number">1</span></div><div class="line">        <span class="keyword">return</span> isPrime.count(<span class="keyword">True</span>) - <span class="number">2</span> <span class="comment"># remove the isPrime[0] and isPrime[1]</span></div></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/25/leetcode204-Count-Primes/" data-id="citjlz67n000hvca7ymhl8h9a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hash/">hash</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hihoCoder1128-二分·二分查找" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/25/hihoCoder1128-二分·二分查找/" class="article-date">
  <time datetime="2016-09-25T02:31:24.000Z" itemprop="datePublished">2016-09-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/25/hihoCoder1128-二分·二分查找/">hihoCoder1128: 二分·二分查找</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1. Question"></a>1. Question</h1><h2 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h2><p><a href="http://hihocoder.com/problemset/problem/1128" target="_blank" rel="external">Link</a></p>
<p>Nettle最近在玩《艦これ》，因此Nettle收集了很多很多的船(这里我们假设Nettle氪了很多金，开了无数个船位)。去除掉重复的船之后，还剩下N(1≤N≤1,000,000)种不同的船。每一艘船有一个稀有值，任意两艘船的稀有值都不相同，稀有值越小的船越稀有，价值也就越高。<br>Nettle现在通过大建又造出了一艘船，他想知道这艘船是不是重复的。如果是重复的，那么这艘船在Nettle所有的船里面稀有值排多少位。</p>
<h3 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h3><p>Nettle已经先把自己所有船按照稀有值从小到大排列好了(a[1..N])，我们要做的是看看新得到的船(假设稀有值为K)是否在这个序列中，且有对应的a[i]=K时，i为多少？</p>
<blockquote>
<p>提示一：有序数组的二分查找</p>
</blockquote>
<h3 id="问题二"><a href="#问题二" class="headerlink" title="问题二"></a>问题二</h3><p>因为Nettle的船太多了，他不愿意去给所有船按照稀有值排序，而是直接告诉了我们每一艘船的稀有值。在这种情况下我们该如何解决这个问题呢？</p>
<blockquote>
<p>提示二：非有序数组的二分查找</p>
</blockquote>
<h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第1行：2个整数N,K。N表示数组长度，K表示需要查找的数；<br>第2行：N个整数，表示a[1..N]，保证不会出现重复的数，1≤a[i]≤2,000,000,000。</p>
<h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>第1行：一个整数t，表示K在数组中是第t小的数，若K不在数组中，输出-1。<br>Sample Input</p>
<pre><code>10 5180
2970 663 5480 4192 4949 1 1387 4428 5180 2761
</code></pre><p>Sample Output</p>
<pre><code>9
</code></pre><h1 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h1><p>非有序数组的二分查找？可以仅遍历一遍记录小于Ｋ的元素的个数，时间复杂度为O(N),空间复杂度为in place。但这与二分查找就没有什么关系了啊…</p>
<h1 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">(N, K) = (int(x) <span class="keyword">for</span> x <span class="keyword">in</span> raw_input().split())</div><div class="line">a = [int(x) <span class="keyword">for</span> x <span class="keyword">in</span> raw_input().split()]</div><div class="line">a.sort()  <span class="comment"># distinguish sort() from sorted(): return value and their advance functions</span></div><div class="line"></div><div class="line">low = <span class="number">0</span></div><div class="line">high = N - <span class="number">1</span></div><div class="line"><span class="keyword">while</span> low &lt;= high:</div><div class="line">    mid = (low + high) / <span class="number">2</span></div><div class="line">    <span class="keyword">if</span> a[mid] == K:</div><div class="line">        <span class="keyword">print</span> mid + <span class="number">1</span></div><div class="line">        <span class="keyword">break</span></div><div class="line">    <span class="keyword">elif</span> a[mid] &gt; K:</div><div class="line">        high = mid - <span class="number">1</span></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        low = mid + <span class="number">1</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> low &gt; high:</div><div class="line">    <span class="keyword">print</span> <span class="number">-1</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/25/hihoCoder1128-二分·二分查找/" data-id="citjlz67g000bvca7rf8x7lg8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/binary-search/">binary_search</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hihoCoder1086-Browser-Caching" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/23/hihoCoder1086-Browser-Caching/" class="article-date">
  <time datetime="2016-09-23T12:08:09.000Z" itemprop="datePublished">2016-09-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/23/hihoCoder1086-Browser-Caching/">hihoCoder1086: Browser Caching</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1. Question"></a>1. Question</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>When you browse the Internet, browser usually caches some documents to reduce the time cost of fetching them from remote servers. Let’s consider a simplified caching problem. Assume the size of browser’s cache can store M pages. When user visits some URL, browser will search it in the cache first. If the page is already cached browser will fetch it from the cache, otherwise browser will fetch it from the Internet and store it in the cache. When the cache is full and browser need to store a new page, the least recently visited page will be discarded.</p>
<p>Now, given a user’s browsing history please tell us where did browser fetch the pages, from the cache or the Internet? At the beginning browser’s cache is empty.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Line 1: Two integers N(1 &lt;= N &lt;= 20000) and M(1 &lt;= M &lt;= 5000). N is the number of pages visited and M is the cache size.</p>
<p>Line 2~N+1: Each line contains a string consisting of no more than 30 lower letters, digits and dots(‘.’) which is the URL of the page. Different URLs always lead to different pages. For example www.bing.com and bing.com are considered as different pages by browser.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>Line 1~N: For each URL in the input, output “Cache” or “Internet”.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><pre><code>5 2
www.bing.com
www.microsoft.com
www.microsoft.com
windows.microsoft.com
www.bing.com
</code></pre><h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><pre><code>Internet
Internet
Cache
Internet
Internet
</code></pre><h1 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h1><h2 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h2><p>Pages in the cache before visiting 1st URL [null, null]</p>
<p>Pages in the cache before visiting 2nd URL [www.bing.com(1), null]</p>
<p>Pages in the cache before visiting 3rd URL [www.bing.com(1), www.microsoft.com(2)]</p>
<p>Pages in the cache before visiting 4th URL [www.bing.com(1), www.microsoft.com(3)]</p>
<p>Pages in the cache before visiting 5th URL [windows.microsoft.com(4), www.microsoft.com(3)]</p>
<p>The number in parentheses is the last visiting <strong>timestamp</strong> of the page.</p>
<h1 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">(N, M) = (int(x) <span class="keyword">for</span> x <span class="keyword">in</span> raw_input().split())</div><div class="line">cache = list()</div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(N):</div><div class="line">    url = raw_input()</div><div class="line">    <span class="keyword">if</span> len(cache) != M:</div><div class="line">        cache.append([url, i])</div><div class="line">        <span class="keyword">print</span> <span class="string">"Internet"</span></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        least_recently_visited_index = <span class="number">0</span></div><div class="line">        least_recently_visited_timestamp = cache[<span class="number">0</span>][<span class="number">1</span>]</div><div class="line">        j = <span class="number">0</span></div><div class="line">        <span class="keyword">while</span> j &lt; M:</div><div class="line">            <span class="keyword">if</span> cache[j][<span class="number">0</span>] == url:</div><div class="line">                cache[j][<span class="number">1</span>] = i</div><div class="line">                <span class="keyword">print</span> <span class="string">"Cache"</span></div><div class="line">                <span class="keyword">break</span></div><div class="line">            <span class="keyword">if</span> least_recently_visited_timestamp &gt; cache[j][<span class="number">1</span>]:</div><div class="line">                least_recently_visited_timestamp = cache[j][<span class="number">1</span>]</div><div class="line">                least_recently_visited_index = j</div><div class="line">            j += <span class="number">1</span></div><div class="line">        <span class="keyword">if</span> j == M:</div><div class="line">            cache[least_recently_visited_index] = [url, i]</div><div class="line">            <span class="keyword">print</span> <span class="string">"Internet"</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/23/hihoCoder1086-Browser-Caching/" data-id="citjlz67d0009vca7wfryjcdj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hash/">hash</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hihoCoder1082-The-Marshtomp-has-seen-it-all-before" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/23/hihoCoder1082-The-Marshtomp-has-seen-it-all-before/" class="article-date">
  <time datetime="2016-09-23T10:56:45.000Z" itemprop="datePublished">2016-09-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/23/hihoCoder1082-The-Marshtomp-has-seen-it-all-before/">hihoCoder1082: The Marshtomp has seen it all before</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1. Question"></a>1. Question</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><a href="http://hihocoder.com/problemset/problem/1082?sid=877409" target="_blank" rel="external">Link</a></p>
<p><img src="/home/jason/Pictures/14184646038225.jpg" alt=""></p>
<p>fjxmlhx is fed up with endless marshtomps on the internet. So he turns to you to write a program to change all occurrence of “marshtomp” ( the name is <strong>not case-sensitive</strong>)  to “fjxmlhx”.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input contains multiple lines.</p>
<p>Each line is a string which length is no more than 200.</p>
<p>The end of one line don’t connect with the head of the next line.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>The output contains multiple lines which are the result after the changes in the description.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><pre><code>The Marshtomp has seen it all before.
marshTomp is beaten by fjxmlhx!
AmarshtompB
</code></pre><h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><pre><code>The fjxmlhx has seen it all before.
fjxmlhx is beaten by fjxmlhx!
AfjxmlhxB
</code></pre><h1 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h1><p>Regular expression to solve the <strong>not case-sensitive</strong> problem. Then just replace strings match the regular expression with fjxmlhx.</p>
<h1 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> re</div><div class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        <span class="keyword">print</span> re.sub(<span class="string">r"[mM][aA][rR][sS][hH][tT][oO][mM][pP]"</span>, <span class="string">"fjxmlhx"</span>, raw_input())</div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        <span class="keyword">break</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/23/hihoCoder1082-The-Marshtomp-has-seen-it-all-before/" data-id="citjlz67a0006vca79a2xfbbc" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/regular-expression/">regular_expression</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/string/">string</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hihoCoder1058-Combination-Lock" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/23/hihoCoder1058-Combination-Lock/" class="article-date">
  <time datetime="2016-09-23T01:42:28.000Z" itemprop="datePublished">2016-09-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/23/hihoCoder1058-Combination-Lock/">hihoCoder1058: Combination Lock</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1. Question"></a>1. Question</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><a href="http://hihocoder.com/problemset/problem/1058?sid=877039" target="_blank" rel="external">Link</a></p>
<p>Finally, you come to the interview room. You know that a Microsoft interviewer is in the room though the door is locked. There is a combination lock on the door. There are N rotators on the lock, each consists of 26 alphabetic characters, namely, ‘A’-‘Z’. You need to unlock the door to meet the interviewer inside. There is a note besides the lock, which shows the steps to unlock it.</p>
<p>Note: There are M steps totally; each step is one of the four kinds of operations shown below:</p>
<p>Type1: CMD 1 i j X: (i and j are integers, 1 &lt;= i &lt;= j &lt;= N; X is a character, within ‘A’-‘Z’)</p>
<pre><code>This is a sequence operation: turn the ith to the jth rotators to character X (the left most rotator is defined as the 1st rotator)

For example: ABCDEFG =&gt; CMD 1 2 3 Z =&gt; AZZDEFG
</code></pre><p>Type2: CMD 2 i j K: (i, j, and K are all integers, 1 &lt;= i &lt;= j &lt;= N)</p>
<pre><code>This is a sequence operation: turn the ith to the jth rotators up K times ( if character A is turned up once, it is B; if Z is turned up once, it is A now. )

For example: ABCDEFG =&gt; CMD 2 2 3 1 =&gt; ACDDEFG
</code></pre><p>Type3: CMD 3 K: (K is an integer, 1 &lt;= K &lt;= N)</p>
<pre><code>This is a concatenation operation: move the K leftmost rotators to the rightmost end.

For example: ABCDEFG =&gt; CMD 3 3 =&gt; DEFGABC
</code></pre><p>Type4: CMD 4 i j(i, j are integers, 1 &lt;= i &lt;= j &lt;= N):</p>
<pre><code>This is a recursive operation, which means:

If i &gt; j:
    Do Nothing
Else:
    CMD 4 i+1 j
    CMD 2 i j 1

For example: ABCDEFG =&gt; CMD 4 2 3 =&gt; ACEDEFG
</code></pre><h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>1st line:  2 integers, N, M ( 1 &lt;= N &lt;= 50000, 1 &lt;= M &lt;= 50000 )</p>
<p>2nd line: a string of N characters, standing for the original status of the lock.</p>
<p>3rd ~ (3+M-1)th lines: each line contains a string, representing one step.<br>Output</p>
<p>One line of N characters, showing the final status of the lock.</p>
<pre><code>7 4
ABCDEFG
CMD 1 2 5 C
CMD 2 3 7 4
CMD 3 3
CMD 4 1 7
</code></pre><h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><pre><code>HIMOFIN
</code></pre><h1 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h1><p>Just need to implement four CMD functions.</p>
<p>Use segment tree can reduce time complexity. <a href="http://blog.csdn.net/playwfun/article/details/48102015" target="_blank" rel="external">Segment tree implementation</a></p>
<h1 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">CMD1</span><span class="params">(lock, i, j, X)</span>:</span></div><div class="line">    <span class="keyword">for</span> it <span class="keyword">in</span> range(i<span class="number">-1</span>, j):</div><div class="line">        lock[it] = X</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">CMD2</span><span class="params">(lock, i, j, K)</span>:</span></div><div class="line">    dictionary = list(<span class="string">"ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span>)</div><div class="line">    <span class="keyword">for</span> it <span class="keyword">in</span> range(i<span class="number">-1</span>, j):</div><div class="line">        new = (dictionary.index(lock[it]) + K) % <span class="number">26</span></div><div class="line">        lock[it] = dictionary[new]</div><div class="line">    <span class="keyword">return</span> lock</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">CMD3</span><span class="params">(lock, K)</span>:</span></div><div class="line">    <span class="comment"># ABCDEF =&gt; CDEFAB: 1. AB =&gt; BA; 2. CDEF =&gt; FEDC; 3. BAFEDC =&gt; CDEFAB</span></div><div class="line">    left = lock[:K]</div><div class="line">    right = lock[K:]</div><div class="line">    lock_re = left[::<span class="number">-1</span>] + right[::<span class="number">-1</span>]</div><div class="line">    lock_re = lock_re[::<span class="number">-1</span>]</div><div class="line">    <span class="keyword">for</span> it <span class="keyword">in</span> range(len(lock)): <span class="comment"># modify lock in its address</span></div><div class="line">        lock[it] = lock_re[it]</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">CMD4</span><span class="params">(lock, i, j)</span>:</span></div><div class="line">    <span class="keyword">if</span> i &gt; j:</div><div class="line">        <span class="keyword">pass</span></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        CMD4(lock, i+<span class="number">1</span>, j)</div><div class="line">        CMD2(lock, i, j, <span class="number">1</span>)</div><div class="line"></div><div class="line">(N, M) = (int(x) <span class="keyword">for</span> x <span class="keyword">in</span> raw_input().split())</div><div class="line">lock = list(raw_input())</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(M):</div><div class="line">    data = raw_input().split()</div><div class="line">    <span class="keyword">if</span> data[<span class="number">1</span>] == <span class="string">"1"</span>:</div><div class="line">        CMD1(lock, int(data[<span class="number">2</span>]), int(data[<span class="number">3</span>]), data[<span class="number">4</span>])</div><div class="line">    <span class="keyword">elif</span> data[<span class="number">1</span>] == <span class="string">"2"</span>:</div><div class="line">        CMD2(lock, int(data[<span class="number">2</span>]), int(data[<span class="number">3</span>]), int(data[<span class="number">4</span>]))</div><div class="line">    <span class="keyword">elif</span> data[<span class="number">1</span>] == <span class="string">"3"</span>:</div><div class="line">        CMD3(lock, int(data[<span class="number">2</span>]))</div><div class="line">    <span class="keyword">elif</span> data[<span class="number">1</span>] == <span class="string">"4"</span>:</div><div class="line">        CMD4(lock, int(data[<span class="number">2</span>]), int(data[<span class="number">3</span>]))</div><div class="line"><span class="keyword">print</span> <span class="string">""</span>.join(lock)</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/23/hihoCoder1058-Combination-Lock/" data-id="citjlz6750005vca7s9kpuk9y" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/string/">string</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tree/">tree</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-github-hexo-如何从已有的github仓库进行配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/22/github-hexo-如何从已有的github仓库进行配置/" class="article-date">
  <time datetime="2016-09-22T13:11:36.000Z" itemprop="datePublished">2016-09-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Configuration/">Configuration</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/22/github-hexo-如何从已有的github仓库进行配置/">github+hexo: 如何从已有的github仓库进行配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="如何从已有的github仓库进行配置继续生成hexo静态网页"><a href="#如何从已有的github仓库进行配置继续生成hexo静态网页" class="headerlink" title="如何从已有的github仓库进行配置继续生成hexo静态网页"></a>如何从已有的github仓库进行配置继续生成hexo静态网页</h1><h2 id="出处"><a href="#出处" class="headerlink" title="出处"></a>出处</h2><ul>
<li>作者：CrazyMilk</li>
<li><a href="https://www.zhihu.com/question/21193762/answer/79109280" target="_blank" rel="external">链接</a></li>
<li>来源：知乎</li>
<li>著作权归作者所有。</li>
</ul>
<p><strong>本人对原作做了一些简化和修改，并附上了简单的初始化和日常更新脚本。</strong></p>
<h2 id="搭建和使用过程"><a href="#搭建和使用过程" class="headerlink" title="搭建和使用过程"></a>搭建和使用过程</h2><h3 id="关于搭建的流程"><a href="#关于搭建的流程" class="headerlink" title="关于搭建的流程"></a>关于搭建的流程</h3><ol>
<li>创建仓库，<a href="http://CrazyMilk.github.io；" target="_blank" rel="external">http://CrazyMilk.github.io；</a></li>
<li>创建两个分支：master 与 hexo；</li>
<li>设置hexo为默认分支（因为我们只需要手动管理这个分支上的Hexo网站文件）；</li>
<li>使用git clone git@github.com:CrazyMilk/CrazyMilk.github.io.git拷贝仓库；</li>
<li>在本地<a href="http://CrazyMilk.github.io" target="_blank" rel="external">http://CrazyMilk.github.io</a> 文件夹下通过Git bash依次执行npm install hexo、<del>hexo init、</del>npm install 和 npm install hexo-deployer-git（此时当前分支应显示为hexo）;</li>
<li>修改_config.yml中的deploy参数，分支应为master；</li>
<li>依次执行git add .、git commit -m “…”、git push origin hexo提交网站相关的文件；</li>
<li>执行hexo g -d生成网站并部署到GitHub上。</li>
</ol>
<p>这样一来，在GitHub上的<a href="http://CrazyMilk.github.io" target="_blank" rel="external">http://CrazyMilk.github.io</a> 仓库就有两个分支，一个hexo分支用来存放网站的原始文件，一个master分支用来存放生成的静态网页。完美( •̀ ω •́ )y！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">echo &quot;npm install hexo --save&quot;</div><div class="line">npm install hexo --save</div><div class="line">echo &quot;npm install&quot;</div><div class="line">npm install</div><div class="line">echo &quot;npm install hexo-deployer-git --save&quot;</div><div class="line">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>
<h3 id="关于日常的改动流程"><a href="#关于日常的改动流程" class="headerlink" title="关于日常的改动流程"></a>关于日常的改动流程</h3><p>在本地对博客进行修改（添加新博文、修改样式等等）后，通过下面的流程进行管理。</p>
<ol>
<li>依次执行git add .、git commit -m “…”、git push origin hexo指令将改动推送到GitHub（此时当前分支应为hexo）；</li>
<li>然后才执行hexo g -d发布网站到master分支上。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">#!/bin/bash</div><div class="line"></div><div class="line">echo &quot;git add .&quot;</div><div class="line">git add .</div><div class="line">echo &quot;git commit&quot;</div><div class="line">git commit -m &quot;Add articles&quot;</div><div class="line">echo &quot;git push origin hexo&quot;</div><div class="line">git push origin hexo</div><div class="line"></div><div class="line">echo &quot;hexo g -d&quot;</div><div class="line">hexo g -d</div></pre></td></tr></table></figure>
<p><del>虽然两个过程顺序调转一般不会有问题，不过逻辑上这样的顺序是绝对没问题的（例如突然死机要重装了，悲催….的情况，调转顺序就有问题了）。</del></p>
<p><strong>郑重说明：两个过程的顺序绝对不能调换！调换将导致仅将hexo g新生成的css等文件push至master分支并删去原有的index.html等文件，导致页面无法显示。</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/22/github-hexo-如何从已有的github仓库进行配置/" data-id="citjlz66o0000vca7q5n4zaay" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/github/">github</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hihoCoder1057-Performance-Log" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/22/hihoCoder1057-Performance-Log/" class="article-date">
  <time datetime="2016-09-22T07:19:56.000Z" itemprop="datePublished">2016-09-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/22/hihoCoder1057-Performance-Log/">hihoCoder1057: Performance Log</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1.Question"></a>1.Question</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><a href="">题目链接</a></p>
<p>You are given a txt file, which is performance logs of a single-threaded program.Each line has three columns as follow:</p>
<blockquote>
<p>[Function Name] [TimeStamp] [Action]</p>
<ul>
<li>[FunctionName] is a string of length between 1~255</li>
<li>[TimeStamp] format is hh:mm:ss</li>
<li>Valid values for “Action” column are START or END, marking the start or end of a function call.</li>
</ul>
</blockquote>
<p>Each function will only be called once.</p>
<p>Output the depth-first traversal result of the call graph with the total time of each function call. However, sometimes the performance log isn’t correct and at that time you just need to output “Incorrect performance log”.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>The input only contains 1 case, first line is a positive number N representing the number of logs(1 &lt;= N &lt;= 20000), then there are N lines in next, each line is the log info containing [Function Name] [TimeStamp] [Action], [Function Name] is a string, you can assume the [Function Name] is distinct and the length between 1~255.</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>Output the depth-first traversal result of the call graph with the total time of each function call for the correct performance, or output “Incorrect performance log”.</p>
<p>A call graph is a directed graph that represents calling relationships between subroutines in a computer program.</p>
<p>Call graph for the sample input is shown as below:</p>
<p><img src="/home/jason/Pictures/14136920697494.png" alt=""></p>
<p>Another sample test case.<br>Sample Input</p>
<pre><code>8
FuncA 00:00:01 START
FuncB 00:00:02 START
FuncC 00:00:03 START
FuncA 00:00:04 END
FuncB 00:00:05 END
FuncD 00:00:06 START
FuncD 00:00:07 END
FuncC 00:00:08 END
</code></pre><p>Sample Output</p>
<pre><code>Incorrect performance log
</code></pre><p>Sample Input</p>
<pre><code>8
FuncA 00:00:01 START
FuncB 00:00:02 START
FuncC 00:00:03 START
FuncC 00:00:04 END
FuncB 00:00:05 END
FuncD 00:00:06 START
FuncD 00:00:07 END
FuncA 00:00:08 END
</code></pre><p>Sample Output</p>
<pre><code>FuncA 00:00:07
FuncB 00:00:03
FuncC 00:00:01
FuncD 00:00:01
</code></pre><h1 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h1><p>Use stack to implement dfs. Push when “START” and pop when “END”.(Dealing with the boundary conditions)</p>
<h1 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h1><p>优化输出格式即可AC。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">N = int(raw_input())</div><div class="line">funStack = list()</div><div class="line">res = list()</div><div class="line">i = <span class="number">0</span></div><div class="line"><span class="keyword">while</span> i &lt; N:</div><div class="line">    data = raw_input().split()</div><div class="line">    <span class="keyword">if</span> data[<span class="number">2</span>] == <span class="string">"START"</span>:</div><div class="line">        funStack.append(data)</div><div class="line">        i += <span class="number">1</span></div><div class="line">    <span class="keyword">elif</span> data[<span class="number">2</span>] == <span class="string">"END"</span>:</div><div class="line">        <span class="keyword">if</span> len(funStack) == <span class="number">0</span>:</div><div class="line">            <span class="keyword">break</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            tmp = funStack.pop()</div><div class="line">            <span class="keyword">if</span> tmp[<span class="number">0</span>] != data[<span class="number">0</span>]:</div><div class="line">                <span class="keyword">break</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                startData = [int(x) <span class="keyword">for</span> x <span class="keyword">in</span> tmp[<span class="number">1</span>].split(<span class="string">":"</span>)]</div><div class="line">                startTime = startData[<span class="number">0</span>]*<span class="number">3600</span> + startData[<span class="number">1</span>]*<span class="number">60</span> + startData[<span class="number">2</span>]</div><div class="line">                endData = [int(x) <span class="keyword">for</span> x <span class="keyword">in</span> data[<span class="number">1</span>].split(<span class="string">":"</span>)]</div><div class="line">                endTime = endData[<span class="number">0</span>]*<span class="number">3600</span> + endData[<span class="number">1</span>]*<span class="number">60</span> + endData[<span class="number">2</span>]</div><div class="line">                <span class="keyword">if</span> endTime &lt; startTime:</div><div class="line">                    <span class="keyword">break</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    resTime = list()</div><div class="line">                    seconds = endTime - startTime</div><div class="line">                    resTime.append(str(seconds%<span class="number">60</span>))</div><div class="line">                    mins = seconds/<span class="number">60</span></div><div class="line">                    resTime.append(str(mins%<span class="number">60</span>))</div><div class="line">                    hours = mins/<span class="number">60</span></div><div class="line">                    resTime.append(str(hours))</div><div class="line">                    res.append([data[<span class="number">0</span>], resTime[<span class="number">2</span>]+<span class="string">":"</span>+resTime[<span class="number">1</span>]+<span class="string">":"</span>+resTime[<span class="number">0</span>]])</div><div class="line">                    i += <span class="number">1</span></div><div class="line"></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">break</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> i == N:</div><div class="line">    <span class="keyword">print</span> res</div><div class="line"><span class="keyword">else</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">"Incorrect performance log"</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/22/hihoCoder1057-Performance-Log/" data-id="citjlz6710004vca7q50ahqaa" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dfs/">dfs</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hihoCoder1051-补提交卡" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/21/hihoCoder1051-补提交卡/" class="article-date">
  <time datetime="2016-09-21T07:44:17.000Z" itemprop="datePublished">2016-09-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/21/hihoCoder1051-补提交卡/">hihoCoder1051: 补提交卡</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Question"><a href="#1-Question" class="headerlink" title="1. Question"></a>1. Question</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><a href="http://hihocoder.com/problemset/problem/1051" target="_blank" rel="external">题目链接</a></p>
<p>小Ho给自己定了一个宏伟的目标：连续100天每天坚持在hihoCoder上提交一个程序。100天过去了，小Ho查看自己的提交记录发现有N天因为贪玩忘记提交了。于是小Ho软磨硬泡、强忍着小Hi鄙视的眼神从小Hi那里要来M张”补提交卡”。每张”补提交卡”都可以补回一天的提交，将原本没有提交程序的一天变成有提交程序的一天。小Ho想知道通过利用这M张补提交卡，可以使自己的”最长连续提交天数”最多变成多少天。</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>第一行是一个整数T(1 &lt;= T &lt;= 10)，代表测试数据的组数。</p>
<p>每个测试数据第一行是2个整数N和M(0 &lt;= N, M &lt;= 100)。第二行包含N个整数a1, a2, … aN(1 &lt;= a1 &lt; a2 &lt; … &lt; aN &lt;= 100)，表示第a1, a2, …  aN天小Ho没有提交程序。</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>对于每组数据，输出通过使用补提交卡小Ho的最长连续提交天数最多变成多少。</p>
<p>Sample Input</p>
<pre><code>3  
5 1  
34 77 82 83 84  
5 2  
10 30 55 56 90  
5 10  
10 30 55 56 90
</code></pre><p>Sample Output</p>
<pre><code>76  
59
100
</code></pre><hr>
<h2 id="2-Analysis"><a href="#2-Analysis" class="headerlink" title="2. Analysis"></a>2. Analysis</h2><p>要消除连续的m才能使收益最大，每个区间的a[i + m ] - a[ i - 1] - 1的最大值即所求。</p>
<hr>
<h2 id="3-Solution-s"><a href="#3-Solution-s" class="headerlink" title="3. Solution(s)"></a>3. Solution(s)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">T = int(raw_input())</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(T):</div><div class="line">    (N, M) = (int(x) <span class="keyword">for</span> x <span class="keyword">in</span> raw_input().split())</div><div class="line">    days = [int(x) <span class="keyword">for</span> x <span class="keyword">in</span> raw_input().split()]</div><div class="line">    <span class="keyword">if</span> N &lt;= M:</div><div class="line">        <span class="keyword">print</span> <span class="number">100</span></div><div class="line">        <span class="keyword">continue</span></div><div class="line">    maxSeq = days[<span class="number">0</span>+M] - <span class="number">1</span></div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, N-M):</div><div class="line">        maxSeq = max(maxSeq, days[j+M] - days[j<span class="number">-1</span>] - <span class="number">1</span>) <span class="comment"># key point</span></div><div class="line">    <span class="keyword">print</span> maxSeq</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/21/hihoCoder1051-补提交卡/" data-id="citjlz66u0001vca7r5ijknnp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OJ/">OJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/enumeration/">enumeration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/greedy/">greedy</a></li></ul>

    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Configuration/">Configuration</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/OJ/">OJ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/binary-search/">binary_search</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dfs/">dfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/enumeration/">enumeration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/greedy/">greedy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hash/">hash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/regular-expression/">regular_expression</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/string/">string</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tree/">tree</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/OJ/" style="font-size: 20px;">OJ</a> <a href="/tags/binary-search/" style="font-size: 10px;">binary_search</a> <a href="/tags/dfs/" style="font-size: 10px;">dfs</a> <a href="/tags/enumeration/" style="font-size: 10px;">enumeration</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/greedy/" style="font-size: 10px;">greedy</a> <a href="/tags/hash/" style="font-size: 15px;">hash</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/regular-expression/" style="font-size: 10px;">regular_expression</a> <a href="/tags/string/" style="font-size: 15px;">string</a> <a href="/tags/tree/" style="font-size: 15px;">tree</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/09/26/hohoCoder1014-Trie树/">hohoCoder1014: Trie树</a>
          </li>
        
          <li>
            <a href="/2016/09/25/leetcode204-Count-Primes/">leetcode204. Count Primes</a>
          </li>
        
          <li>
            <a href="/2016/09/25/hihoCoder1128-二分·二分查找/">hihoCoder1128: 二分·二分查找</a>
          </li>
        
          <li>
            <a href="/2016/09/23/hihoCoder1086-Browser-Caching/">hihoCoder1086: Browser Caching</a>
          </li>
        
          <li>
            <a href="/2016/09/23/hihoCoder1082-The-Marshtomp-has-seen-it-all-before/">hihoCoder1082: The Marshtomp has seen it all before</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Jason Dong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>